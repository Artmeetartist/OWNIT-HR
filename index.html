<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OWNIT | Offer Letter Generator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        mono: ['JetBrains Mono', 'monospace'],
                        serif: ['Times New Roman', 'Times', 'serif'],
                    },
                    colors: {
                        ownit: {
                            bg: '#f8fafc',      /* Light Page BG */
                            card: '#ffffff',    /* White Card BG */
                            accent: '#3b82f6',
                            success: '#10b981',
                            text: '#0f172a',    /* Dark Text */
                            muted: '#64748b',
                            border: '#e2e8f0'   /* Light Border */
                        }
                    }
                }
            }
        }
    </script>

    <style>
        /* Custom Scrollbar - Light Mode */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f5f9; 
        }
        ::-webkit-scrollbar-thumb {
            background: #cbd5e1; 
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #94a3b8; 
        }

        /* Paper Preview Styling */
        .paper-preview {
            background: white;
            color: #000;
            font-family: 'Times New Roman', Times, serif; /* Legal Standard */
            line-height: 1.5;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            transform-origin: top center;
            transition: transform 0.2s ease;
            position: relative;
            height: auto;
            min-height: 100%;
            outline: none; /* Remove blue outline when editing */
        }

        /* Visual cue for editable content on hover */
        .paper-preview:hover {
            cursor: text;
        }

        /* Watermark styling */
        .watermark {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) rotate(-45deg);
            font-size: 8rem;
            font-weight: 700;
            color: rgba(0, 0, 0, 0.03); /* Very subtle grey */
            pointer-events: none;
            z-index: 0;
            white-space: nowrap;
            text-transform: uppercase;
            font-family: 'Inter', sans-serif;
        }

        .paper-preview h1, .paper-preview h2, .paper-preview h3, .paper-preview h4 {
            color: #000;
            font-weight: 700;
            font-family: 'Inter', sans-serif; /* Keep headers clean/modern */
        }

        .paper-content {
            position: relative;
            z-index: 1;
        }

        .paper-content p {
            margin-bottom: 0.8rem;
            color: #1a1a1a;
            font-size: 10.5pt; /* Standard legal font size */
            text-align: justify; /* Legal justification */
        }
        
        .paper-content li {
            margin-bottom: 0.3rem;
            color: #1a1a1a;
            font-size: 10.5pt;
            text-align: justify;
        }

        /* Print Specifics - Continuous Flow Optimization */
        @page {
            margin: 1cm;
            size: auto; 
        }

        @media print {
            /* 1. Hide the entire UI wrapper except the content we want */
            #login-overlay, 
            header, 
            #sidebar, 
            #toolbar, 
            #toast,
            button,
            .edit-hint {
                display: none !important;
            }

            /* 2. Reset Layout Constraints */
            body, html, #app-wrapper, main, #preview-panel, #preview-scroll-area {
                height: auto !important;
                width: 100% !important;
                overflow: visible !important;
                position: static !important;
                display: block !important;
                background: white !important;
            }

            /* 3. Style the Document for Print */
            #preview-section {
                margin: 0 !important;
                padding: 0 !important;
                box-shadow: none !important;
                border: none !important;
                width: 100% !important;
                max-width: 100% !important;
                left: auto !important;
                top: auto !important;
            }
            
            /* Prevent awkward breaks inside elements */
            .mb-6, .mb-8, li, .commission-block {
                page-break-inside: avoid;
            }

            /* Ensure background colors print */
            * {
                -webkit-print-color-adjust: exact !important;
                print-color-adjust: exact !important;
            }
            
            a {
                text-decoration: none;
                color: #000;
            }
        }

        /* Form Elements - Light Mode */
        .input-group {
            position: relative;
            margin-bottom: 1rem;
        }
        .input-field {
            width: 100%;
            background: #ffffff;
            border: 1px solid #cbd5e1;
            color: #0f172a;
            padding: 0.75rem 1rem;
            border-radius: 0.5rem;
            transition: all 0.2s;
            outline: none;
        }
        .input-field:focus {
            border-color: #3b82f6;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }
        .input-field::placeholder {
            color: #94a3b8;
        }
        label {
            display: block;
            font-size: 0.875rem;
            font-weight: 500;
            color: #64748b;
            margin-bottom: 0.5rem;
        }
        
        /* Animation for login */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in {
            animation: fadeIn 0.4s ease-out forwards;
        }
    </style>
</head>
<body class="bg-ownit-bg text-ownit-text h-screen overflow-hidden font-sans">

    <!-- LOGIN SCREEN - Light Mode -->
    <div id="login-overlay" class="fixed inset-0 z-50 bg-gray-50 flex flex-col items-center justify-center p-4">
        <div class="w-full max-w-md bg-white border border-gray-200 rounded-xl shadow-2xl p-8 animate-fade-in relative overflow-hidden">
            <!-- Background Decoration -->
            <div class="absolute top-0 right-0 -mt-10 -mr-10 w-40 h-40 bg-blue-100 rounded-full mix-blend-multiply filter blur-3xl opacity-50 animate-blob"></div>
            <div class="absolute bottom-0 left-0 -mb-10 -ml-10 w-40 h-40 bg-purple-100 rounded-full mix-blend-multiply filter blur-3xl opacity-50 animate-blob animation-delay-2000"></div>

            <div class="relative z-10">
                <div class="text-center mb-8">
                    <div class="w-12 h-12 bg-blue-600 rounded-lg flex items-center justify-center font-bold text-white shadow-lg shadow-blue-500/20 mx-auto mb-4 text-xl">O</div>
                    <h1 class="text-2xl font-bold tracking-tight text-gray-900">OWNIT</h1>
                    <p class="text-gray-500 text-sm mt-2">Restricted Access. HR Team Only.</p>
                </div>
                
                <form onsubmit="handleLogin(event)" class="space-y-5">
                    <div>
                        <label class="block text-xs font-medium text-gray-500 uppercase tracking-wider mb-1.5">Email Access ID</label>
                        <div class="relative">
                            <span class="absolute inset-y-0 left-0 pl-3 flex items-center text-gray-400"><i class="fas fa-envelope"></i></span>
                            <input type="email" id="loginEmail" class="w-full bg-white border border-gray-300 text-gray-900 pl-10 p-3 rounded-lg focus:border-blue-500 focus:ring-1 focus:ring-blue-500 outline-none transition-all placeholder-gray-400" placeholder="hr@ownit24.com" required>
                        </div>
                    </div>
                    <div>
                        <label class="block text-xs font-medium text-gray-500 uppercase tracking-wider mb-1.5">Secure Key</label>
                        <div class="relative">
                             <span class="absolute inset-y-0 left-0 pl-3 flex items-center text-gray-400"><i class="fas fa-lock"></i></span>
                            <input type="password" id="loginPass" class="w-full bg-white border border-gray-300 text-gray-900 pl-10 p-3 rounded-lg focus:border-blue-500 focus:ring-1 focus:ring-blue-500 outline-none transition-all placeholder-gray-400" placeholder="••••••••" required>
                        </div>
                    </div>
                    
                    <div id="loginError" class="text-red-600 text-xs text-center hidden p-2 bg-red-50 rounded border border-red-100">
                        <i class="fas fa-exclamation-triangle mr-1"></i> Invalid credentials. Access denied.
                    </div>
                    
                    <button type="submit" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 rounded-lg shadow-lg shadow-blue-500/20 transition-all mt-4 flex justify-center items-center gap-2 group">
                        <span>Authenticate & Enter</span>
                        <i class="fas fa-arrow-right group-hover:translate-x-1 transition-transform text-xs"></i>
                    </button>
                </form>
                
                <div class="mt-8 pt-6 border-t border-gray-100 text-center">
                     <p class="text-[10px] text-gray-400 uppercase tracking-widest flex items-center justify-center gap-2">
                        <i class="fas fa-shield-alt"></i> Secured System 2.0
                     </p>
                </div>
            </div>
        </div>
    </div>

    <!-- MAIN APP WRAPPER (Hidden by default) -->
    <div id="app-wrapper" class="hidden h-full flex flex-col bg-gray-50">
        
        <!-- Navbar -->
        <header class="h-16 border-b border-gray-200 bg-white flex items-center justify-between px-6 shrink-0 z-20 shadow-sm">
            <div class="flex items-center gap-3">
                <div class="w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center font-bold text-white shadow-md shadow-blue-500/20">O</div>
                <div>
                    <h1 class="font-bold text-lg tracking-tight text-gray-900">OWNIT <span class="text-gray-400 font-normal">| Offer Generator</span></h1>
                </div>
            </div>
            <div class="flex items-center gap-4">
                <span class="text-xs text-green-600 flex items-center gap-2 font-medium bg-green-50 px-2 py-1 rounded-full border border-green-100">
                    <span class="w-2 h-2 bg-green-500 rounded-full animate-pulse"></span>
                    System Operational
                </span>
                <button onclick="logout()" class="text-xs text-red-500 hover:text-red-700 transition-colors border border-red-100 px-3 py-1.5 rounded bg-red-50 hover:bg-red-100 font-medium">
                    <i class="fas fa-sign-out-alt mr-1"></i> Logout
                </button>
            </div>
        </header>

        <!-- Main Content -->
        <main class="flex-1 flex overflow-hidden">
            
            <!-- LEFT: Input Panel -->
            <section id="sidebar" class="w-full md:w-[450px] lg:w-[500px] bg-white border-r border-gray-200 flex flex-col shrink-0 z-10 shadow-[4px_0_24px_-12px_rgba(0,0,0,0.1)]">
                <div class="p-6 border-b border-gray-100 flex justify-between items-center bg-gray-50/50">
                    <div>
                        <h2 class="text-sm uppercase tracking-wider text-gray-500 font-bold mb-1">Agent Details</h2>
                        <p class="text-xs text-gray-400">Enter candidate information.</p>
                    </div>
                    <button onclick="resetForm()" class="text-xs text-gray-500 hover:text-blue-600 transition-colors flex items-center gap-1" title="Clear All Data">
                        <i class="fas fa-undo"></i> Reset
                    </button>
                </div>

                <div class="flex-1 overflow-y-auto p-6 space-y-5 custom-scrollbar" id="input-container">
                    
                    <div class="grid grid-cols-2 gap-4">
                        <div class="input-group col-span-2">
                            <label>Candidate Full Name</label>
                            <input type="text" id="agentName" class="input-field" placeholder="e.g. Alex Sterling">
                        </div>
                        
                        <div class="input-group">
                            <label>Email</label>
                            <input type="email" id="agentEmail" class="input-field" placeholder="alex@example.com">
                        </div>
                        <div class="input-group">
                            <label>Phone</label>
                            <input type="tel" id="agentPhone" class="input-field" placeholder="+1 (555) 000-0000">
                        </div>
                    </div>

                    <div class="h-px bg-gray-100 my-2"></div>

                    <!-- LOGO UPLOAD SECTION -->
                    <div class="input-group">
                        <label>Company Logo (Optional)</label>
                        <input type="file" id="logoUpload" accept="image/*" class="w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-xs file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 border border-gray-200 rounded-lg p-2">
                        <p class="text-[10px] text-gray-400 mt-1">Upload to replace the default "OWNIT" text logo.</p>
                    </div>

                    <div class="input-group">
                        <label>Role / Position</label>
                        <div class="relative">
                            <select id="roleSelect" class="input-field appearance-none cursor-pointer">
                                <option value="" disabled selected>Select Role</option>
                                <option value="setter">Appointment Setter (Domestic)</option>
                                <option value="closer">Sales Closer</option>
                                <option value="solo">Solo Sales Agent (Full Cycle)</option>
                            </select>
                            <div class="absolute right-4 top-3.5 pointer-events-none text-gray-500">
                                <i class="fas fa-chevron-down text-xs"></i>
                            </div>
                        </div>
                    </div>

                    <div class="grid grid-cols-2 gap-4">
                        <div class="input-group">
                            <label>Start Date</label>
                            <input type="date" id="startDate" class="input-field text-gray-600">
                        </div>
                        <div class="input-group">
                            <label>Payout Cycle</label>
                            <select id="payCycle" class="input-field appearance-none">
                                <option value="Weekly">Weekly (Friday)</option>
                                <option value="Bi-weekly">Bi-weekly</option>
                                <option value="Monthly" selected>Monthly (Net 30)</option>
                            </select>
                        </div>
                    </div>

                    <div class="input-group">
                        <label>Special Notes (Section 4)</label>
                        <textarea id="hrNotes" class="input-field h-24 resize-none" placeholder="Add specific targets or custom welcome message..."></textarea>
                    </div>

                </div>

                <!-- Footer Actions -->
                <div class="p-6 border-t border-gray-200 bg-gray-50">
                    <button id="generateBtn" disabled onclick="handlePrint()" class="w-full bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-white font-medium py-3 rounded-lg shadow-lg shadow-blue-500/20 transition-all flex items-center justify-center gap-2">
                        <i class="fas fa-file-contract"></i>
                        <span>Generate & Download PDF</span>
                    </button>
                </div>
            </section>

            <!-- RIGHT: Preview Panel -->
            <section id="preview-panel" class="flex-1 bg-gray-100 relative flex flex-col">
                <!-- Toolbar -->
                <div id="toolbar" class="h-14 border-b border-gray-200 flex items-center justify-between px-6 bg-white z-10 shadow-sm">
                    <span class="text-xs font-mono text-gray-500 uppercase tracking-widest flex items-center gap-2">
                        <span class="w-1.5 h-1.5 bg-green-500 rounded-full"></span> Live Preview
                    </span>
                    <div class="flex items-center gap-3">
                         <span class="text-xs text-orange-500 bg-orange-50 px-2 py-1 rounded border border-orange-100 flex items-center gap-1 edit-hint">
                            <i class="fas fa-pen"></i> Document is editable
                        </span>
                        <div class="h-4 w-px bg-gray-300 mx-1"></div>
                        <button onclick="copyToClipboard()" class="px-3 py-1.5 text-xs text-gray-600 bg-gray-50 hover:bg-gray-100 rounded border border-gray-200 transition-colors">
                            <i class="far fa-copy mr-1"></i> Copy Text
                        </button>
                        <button onclick="handlePrint()" class="px-3 py-1.5 text-xs text-white bg-blue-600 hover:bg-blue-700 rounded border border-blue-500 shadow-md shadow-blue-500/10 transition-colors flex items-center">
                            <i class="fas fa-download mr-2"></i> PDF / Print
                        </button>
                    </div>
                </div>

                <!-- Scrollable Preview Area -->
                <div class="flex-1 overflow-y-auto p-8 md:p-12 flex justify-center bg-gray-100" id="preview-scroll-area">
                    
                    <!-- The Paper Document - Editable -->
                    <div id="preview-section" class="paper-preview w-full max-w-[800px] p-12 md:p-16 relative" contenteditable="true" spellcheck="false">
                        
                        <!-- Watermark -->
                        <div class="watermark">CONFIDENTIAL</div>

                        <!-- Header -->
                        <div class="flex justify-between items-start mb-10 paper-content">
                            <div>
                                <!-- Dynamic Logo Container -->
                                <div id="brandContainer">
                                    <div id="textLogo">
                                        <div class="text-3xl font-extrabold tracking-tight text-black font-sans">OWNIT<span class="text-blue-600">.</span></div>
                                    </div>
                                    <img id="imgLogo" src="" alt="Company Logo" class="h-16 w-auto object-contain hidden">
                                </div>
                            </div>
                            <div class="text-right">
                                 <h1 class="text-xl font-bold uppercase tracking-wide text-gray-900 font-sans">Offer of Engagement</h1>
                                 <p class="text-xs text-gray-500 mt-1 font-sans" id="docDate">Date: --</p>
                            </div>
                        </div>

                        <div class="paper-content">
                            <!-- Intro -->
                            <div class="mb-8">
                                <p class="font-medium text-lg mb-2">Dear <span class="prevName highlight bg-yellow-100 px-1 rounded">[Agent Name]</span>,</p>
                                <p>
                                    We are pleased to offer you the position of <strong class="text-black prevRole">[Role Name]</strong> with OWNIT, on a commission-based, independent contractor engagement.
                                </p>
                                <p>
                                    OWNIT is a global B2B growth systems company operating through registered entities in India and the United States, helping service-based businesses increase revenue using high-converting websites, AI-powered chat assistants, CRM, booking systems, and automation.
                                </p>
                                <p>
                                    This role is designed for individuals who believe in results over hours and are comfortable earning purely based on outcomes.
                                </p>
                            </div>

                            <!-- 1. Company Details -->
                            <div class="mb-6">
                                <h3 class="text-sm font-bold uppercase border-b border-gray-200 mb-3 pb-1 font-sans">1. Company & Legal Information</h3>
                                <p class="mb-2">OWNIT operates under the following registered entities:</p>
                                <div class="grid grid-cols-2 gap-4 mb-3">
                                    <div class="bg-gray-50 p-3 rounded border border-gray-100">
                                        <p class="font-bold text-xs uppercase text-gray-500 mb-1 font-sans">India Entity</p>
                                        <p class="font-semibold text-sm">OWNIT Software Pvt. Ltd.</p>
                                        <p class="text-xs text-gray-600">Reg. Address: Sector 38, Gurugram, India</p>
                                    </div>
                                    <div class="bg-gray-50 p-3 rounded border border-gray-100">
                                        <p class="font-bold text-xs uppercase text-gray-500 mb-1 font-sans">United States Entity</p>
                                        <p class="font-semibold text-sm">OWNIT Software LLC</p>
                                        <p class="text-xs text-gray-600">Reg. State: Delaware, United States</p>
                                    </div>
                                </div>
                                <p class="text-xs text-gray-500 italic">This engagement may be executed under either entity depending on operational, billing, or compliance requirements.</p>
                            </div>

                            <!-- 2. Engagement Details -->
                            <div class="mb-6">
                                <h3 class="text-sm font-bold uppercase border-b border-gray-200 mb-3 pb-1 font-sans">2. Engagement Details</h3>
                                <div class="grid grid-cols-2 gap-y-2 text-sm">
                                    <p><span class="text-gray-500 w-32 inline-block">Position:</span> <strong class="prevRole">[Role Name]</strong></p>
                                    <p><span class="text-gray-500 w-32 inline-block">Engagement Type:</span> Independent Contractor (Commission-Based)</p>
                                    <p><span class="text-gray-500 w-32 inline-block">Work Mode:</span> Remote</p>
                                    <p><span class="text-gray-500 w-32 inline-block">Reporting To:</span> Sales Lead / Founder</p>
                                    <p><span class="text-gray-500 w-32 inline-block">Founder:</span> Deepak</p>
                                    <p><span class="text-gray-500 w-32 inline-block">Start Date:</span> <span class="prevDate font-semibold">[Start Date]</span></p>
                                </div>
                                <p class="text-xs mt-3 text-gray-600 border-l-2 border-blue-500 pl-3 italic">
                                    This engagement does not constitute employment with either entity. There is no fixed salary, and compensation is entirely performance-based.
                                </p>
                            </div>

                            <!-- 3. Commission -->
                            <div class="mb-6">
                                <h3 class="text-sm font-bold uppercase border-b border-gray-200 mb-3 pb-1 font-sans">3. Commission Structure & Earnings</h3>
                                <p>Commission is earned only when a deal is successfully closed and payment is received by OWNIT, calculated strictly on the net sale amount after applicable taxes.</p>
                                
                                <div class="mt-4 mb-4">
                                    
                                    <!-- Domestic -->
                                    <div class="commission-block mb-4">
                                        <p class="font-bold text-sm mb-2 text-blue-800">A. Domestic Commission Structure (India)</p>
                                        <ul class="list-none space-y-3 text-sm">
                                            <li class="pl-4 border-l-2 border-gray-200">
                                                <strong class="text-black block">Appointment Setter Only</strong>
                                                <span class="text-gray-600 text-xs">Qualified appointment booked, deal closed by another agent</span>
                                                <br><span class="text-black font-semibold">➡️ 10% of final deal value</span>
                                            </li>
                                            <li class="pl-4 border-l-2 border-gray-200">
                                                <strong class="text-black block">Closer Only</strong>
                                                <span class="text-gray-600 text-xs">Deal closed by you</span>
                                                <br><span class="text-black font-semibold">➡️ 20% of final deal value</span>
                                            </li>
                                            <li class="pl-4 border-l-2 border-gray-200">
                                                <strong class="text-black block">Solo Role (Opening + Closing)</strong>
                                                <span class="text-gray-600 text-xs">Lead generation, appointment booking, and closing done by you</span>
                                                <br><span class="text-black font-semibold">➡️ 25% of final deal value</span>
                                            </li>
                                        </ul>
                                    </div>

                                    <!-- US/International -->
                                    <div class="commission-block mb-4">
                                        <p class="font-bold text-sm mb-2 text-blue-800">B. US & International Commission Structure</p>
                                        <div class="space-y-4 text-sm">
                                            
                                            <!-- Opener -->
                                            <div class="pl-4 border-l-2 border-blue-100">
                                                <strong class="text-black block mb-1">1. Opener + Setter (Lead Qualifier)</strong>
                                                <div class="grid grid-cols-2 gap-2 text-xs">
                                                    <div>
                                                        <span class="block text-gray-500">Up to $1,000 deal value</span>
                                                        <span class="font-semibold">5%</span> (up to $50/lead)
                                                    </div>
                                                    <div>
                                                        <span class="block text-gray-500">$1,001 and above</span>
                                                        <span class="font-semibold">8%</span> (up to $144/lead)
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- Closer -->
                                            <div class="pl-4 border-l-2 border-blue-100">
                                                <strong class="text-black block mb-1">2. Closer</strong>
                                                <div class="grid grid-cols-2 gap-2 text-xs">
                                                    <div>
                                                        <span class="block text-gray-500">Up to $2,000 deal</span>
                                                        <span class="font-semibold">8%</span> (up to $160/deal)
                                                    </div>
                                                    <div>
                                                        <span class="block text-gray-500">$2,001 – $4,000 deal</span>
                                                        <span class="font-semibold">10%</span> (up to $400/deal)
                                                    </div>
                                                    <div class="col-span-2">
                                                        <span class="block text-gray-500">$4,001 and above</span>
                                                        <span class="font-semibold">12%</span> (up to $480+/deal)
                                                    </div>
                                                </div>
                                            </div>

                                            <!-- Solo -->
                                            <div class="pl-4 border-l-2 border-blue-100">
                                                <strong class="text-black block mb-1">3. Solo Plan (Opening + Closing)</strong>
                                                <div class="grid grid-cols-2 gap-2 text-xs">
                                                    <div>
                                                        <span class="block text-gray-500">Up to $2,000 deal</span>
                                                        <span class="font-semibold">10%</span> (up to $200/deal)
                                                    </div>
                                                    <div>
                                                        <span class="block text-gray-500">$2,001 – $4,000 deal</span>
                                                        <span class="font-semibold">12%</span> (up to $480/deal)
                                                    </div>
                                                    <div class="col-span-2">
                                                        <span class="block text-gray-500">$4,001 and above</span>
                                                        <span class="font-semibold">15%</span> (up to $750+/deal)
                                                    </div>
                                                </div>
                                            </div>

                                        </div>
                                    </div>

                                </div>
                                
                                <div class="bg-red-50 p-3 rounded border border-red-100 text-xs text-red-900">
                                    <strong>Commission Rules (Strictly Enforced):</strong>
                                    <ul class="list-disc pl-4 mt-1 space-y-1">
                                        <li>Commission is calculated only on net revenue received after taxes.</li>
                                        <li>No commission on unpaid invoices, cancelled deals, or refunds.</li>
                                        <li>No commission on pipeline, verbal commitments, or unsigned proposals.</li>
                                        <li><strong>Payment Cycle:</strong> <span class="prevCycle font-bold">Weekly / Bi-weekly / Monthly</span> (as communicated internally).</li>
                                        <li>OWNIT reserves the right to revise commission slabs with prior notice.</li>
                                    </ul>
                                </div>
                            </div>

                            <!-- 4. Roles -->
                            <div class="mb-6">
                                <h3 class="text-sm font-bold uppercase border-b border-gray-200 mb-3 pb-1 font-sans">4. Roles & Responsibilities</h3>
                                <p class="mb-2 text-sm">You are expected to:</p>
                                <ul class="list-disc pl-5 text-sm space-y-1">
                                    <li>Reach out to potential B2B clients via approved channels.</li>
                                    <li>Qualify leads accurately based on OWNIT criteria.</li>
                                    <li>Book genuine, high-intent appointments.</li>
                                    <li>Close deals where applicable.</li>
                                    <li>Maintain accurate CRM updates.</li>
                                    <li>Follow approved scripts, pricing boundaries, and positioning.</li>
                                    <li>Communicate professionally and ethically at all times.</li>
                                </ul>
                                <div id="notesSection" class="mt-3 p-3 bg-yellow-50 border border-yellow-100 rounded hidden">
                                    <p class="text-xs font-bold text-yellow-800 uppercase mb-1">Additional Notes</p>
                                    <p id="prevNotes" class="text-sm text-yellow-900 whitespace-pre-line"></p>
                                </div>
                            </div>

                             <!-- 5. Confidentiality -->
                            <div class="mb-6">
                                <h3 class="text-sm font-bold uppercase border-b border-gray-200 mb-3 pb-1 font-sans">5. Confidentiality & Data Privacy</h3>
                                <p class="text-sm mb-2">You may have access to confidential information including client data, lead databases, pricing structures, sales scripts, and internal systems.</p>
                                <p class="text-sm">All such information is strictly confidential and must not be shared, copied, reused, or exploited for personal or third-party gain. Breach of confidentiality may result in immediate termination and legal action. This obligation survives termination.</p>
                            </div>

                            <!-- 6. Non-Exclusivity -->
                            <div class="mb-6">
                                <h3 class="text-sm font-bold uppercase border-b border-gray-200 mb-2 pb-1 font-sans">6. Non-Exclusivity & Restrictions</h3>
                                <p class="text-sm">This engagement is non-exclusive. However, you may not use OWNIT’s data, scripts, or processes for competing services, nor may you solicit OWNIT clients outside this engagement.</p>
                            </div>

                            <!-- 7. Termination -->
                            <div class="mb-6">
                                <h3 class="text-sm font-bold uppercase border-b border-gray-200 mb-2 pb-1 font-sans">7. Termination Policy</h3>
                                <p class="text-sm">Either party may terminate this engagement at any time. Upon termination, commission will be paid only for deals already closed and fully paid. No commission is payable on pipeline or future opportunities.</p>
                            </div>

                            <!-- 8. Acceptance -->
                            <div class="mb-8">
                                <h3 class="text-sm font-bold uppercase border-b border-gray-200 mb-3 pb-1 font-sans">8. Acceptance of Offer</h3>
                                <p class="text-sm mb-3">By accepting this offer, you confirm that:</p>
                                <ul class="list-disc pl-5 text-sm space-y-1 mb-3">
                                    <li>You understand this is a commission-only independent contractor role.</li>
                                    <li>There is no fixed salary or guaranteed income.</li>
                                    <li>Earnings depend entirely on performance.</li>
                                    <li>You agree to comply with OWNIT’s rules, policies, and processes.</li>
                                </ul>
                                <p class="text-sm">If you are aligned with our performance-driven culture and ready to take ownership of your results, we welcome you to OWNIT.</p>
                                <p class="text-sm mt-3 font-semibold bg-gray-50 border-l-4 border-black pl-3 py-1">
                                    This offer is valid for acceptance until <span id="expiryDate" class="underline"></span> (7 days from issue).
                                </p>
                            </div>

                            <!-- Signatures -->
                            <div class="mb-10 pt-4">
                                <div class="flex justify-between items-start gap-12">
                                    <div class="flex-1">
                                        <p class="font-bold text-sm mb-1">Warm regards,</p>
                                        <p class="font-bold text-lg">HR Department</p>
                                        <p class="text-sm text-gray-600 mb-4">OWNIT</p>
                                        
                                        <div class="text-xs text-gray-500 space-y-1 border-t border-gray-200 pt-3">
                                            <p><i class="fas fa-map-marker-alt w-4 text-center"></i> India: Sector 38, Gurugram</p>
                                            <p><i class="fas fa-map-marker-alt w-4 text-center"></i> USA: Delaware</p>
                                            <p><i class="fas fa-envelope w-4 text-center"></i> <a href="mailto:hr@ownit24.com" class="text-blue-600 hover:underline">hr@ownit24.com</a></p>
                                        </div>
                                    </div>

                                    <div class="flex-1 bg-gray-50 p-6 rounded border border-gray-200">
                                        <h4 class="text-sm font-bold uppercase mb-4 text-center font-sans">Acceptance Confirmation</h4>
                                        <p class="text-xs text-gray-600 mb-4 leading-relaxed">
                                            I, <span class="prevName font-bold text-black">[Agent Name]</span>, have read, understood, and agree to the terms of this offer letter.
                                        </p>
                                        
                                        <div class="mt-8 border-b border-black mb-2"></div>
                                        <p class="text-xs font-bold uppercase text-gray-500 font-sans">Signature</p>
                                        
                                        <div class="mt-6 border-b border-black mb-2 flex justify-between items-end">
                                            <span class="prevDate text-sm font-mono">[Date]</span>
                                        </div>
                                        <p class="text-xs font-bold uppercase text-gray-500 font-sans">Date</p>
                                    </div>
                                </div>
                            </div>

                            <!-- Footer -->
                            <div class="text-center pt-8 border-t border-gray-100">
                                <p class="text-[10px] text-gray-400 uppercase tracking-widest font-sans">OWNIT - Confidential & Proprietary</p>
                            </div>

                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Notification Toast -->
    <div id="toast" class="fixed bottom-5 right-5 bg-green-500 text-white px-4 py-3 rounded-lg shadow-xl transform translate-y-20 opacity-0 transition-all duration-300 flex items-center gap-3 z-50">
        <i class="fas fa-check-circle"></i>
        <span id="toastMsg" class="font-medium text-sm">Action Successful</span>
    </div>

    <script>
        // --- 0. AUTHENTICATION LOGIC ---
        const AUTH_CREDENTIALS = {
            user: "hr@ownit24.com",
            pass: "Dodo@26#MD"
        };
        const SESSION_KEY = "ownit_auth_session";

        function checkAuth() {
            // Check if already authenticated in this session
            if (sessionStorage.getItem(SESSION_KEY) === 'true') {
                showApp();
            }
        }

        function handleLogin(e) {
            e.preventDefault();
            const email = document.getElementById('loginEmail').value;
            const pass = document.getElementById('loginPass').value;
            const errorEl = document.getElementById('loginError');

            if (email === AUTH_CREDENTIALS.user && pass === AUTH_CREDENTIALS.pass) {
                // Success
                sessionStorage.setItem(SESSION_KEY, 'true');
                showApp();
            } else {
                // Fail
                errorEl.classList.remove('hidden');
                // Shake animation reset
                const form = document.querySelector('form');
                form.classList.add('animate-pulse');
                setTimeout(() => form.classList.remove('animate-pulse'), 200);
            }
        }

        function showApp() {
            document.getElementById('login-overlay').classList.add('hidden');
            document.getElementById('app-wrapper').classList.remove('hidden');
            initApp(); // Initialize the main app logic
        }

        function logout() {
            sessionStorage.removeItem(SESSION_KEY);
            location.reload();
        }

        // --- 1. CONFIGURATION & DATA ---
        const ROLE_CONFIG = {
            'setter': {
                title: 'Appointment Setter (Domestic)',
            },
            'closer': {
                title: 'Senior Sales Closer',
            },
            'solo': {
                title: 'Solo Sales Agent (Full Cycle)',
            }
        };

        const STORAGE_KEY = 'ownit_offer_data';

        // --- 2. STATE MANAGEMENT ---
        let state = {
            name: '',
            email: '',
            phone: '',
            role: '',
            startDate: new Date().toISOString().split('T')[0],
            cycle: 'Monthly',
            notes: ''
        };

        // --- 3. DOM ELEMENTS ---
        const els = {
            inputs: {
                name: document.getElementById('agentName'),
                email: document.getElementById('agentEmail'),
                phone: document.getElementById('agentPhone'),
                role: document.getElementById('roleSelect'),
                date: document.getElementById('startDate'),
                cycle: document.getElementById('payCycle'),
                notes: document.getElementById('hrNotes'),
                logo: document.getElementById('logoUpload'),
            },
            preview: {
                names: document.querySelectorAll('.prevName'),
                roles: document.querySelectorAll('.prevRole'),
                dates: document.querySelectorAll('.prevDate'),
                cycles: document.querySelectorAll('.prevCycle'),
                notes: document.getElementById('prevNotes'),
                notesSection: document.getElementById('notesSection'),
                docDate: document.getElementById('docDate'),
                expiryDate: document.getElementById('expiryDate'),
                textLogo: document.getElementById('textLogo'),
                imgLogo: document.getElementById('imgLogo')
            },
            ui: {
                generateBtn: document.getElementById('generateBtn')
            }
        };

        // --- 4. CORE LOGIC ---

        function initApp() {
            // Set current date in doc header
            const today = new Date();
            const todayStr = today.toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' });
            els.preview.docDate.textContent = `Date: ${todayStr}`;

            // Calculate Expiry Date (7 days from today)
            const expiry = new Date(today);
            expiry.setDate(today.getDate() + 7);
            const expiryStr = expiry.toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' });
            if(els.preview.expiryDate) {
                els.preview.expiryDate.textContent = expiryStr;
            }

            loadState();
            
            // Attach Listeners
            Object.keys(els.inputs).forEach(key => {
                if(els.inputs[key] && key !== 'logo') {
                    els.inputs[key].addEventListener('input', (e) => updateState(key, e.target.value));
                }
            });

            // Logo Listener
            if(els.inputs.logo) {
                els.inputs.logo.addEventListener('change', handleLogoUpload);
            }

            render();
        }

        function handleLogoUpload(e) {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    els.preview.imgLogo.src = e.target.result;
                    els.preview.imgLogo.classList.remove('hidden');
                    els.preview.textLogo.classList.add('hidden');
                };
                reader.readAsDataURL(file);
            } else {
                els.preview.imgLogo.classList.add('hidden');
                els.preview.textLogo.classList.remove('hidden');
                els.preview.imgLogo.src = "";
            }
        }

        function updateState(key, value) {
            state[key] = value;
            saveState();
            render();
        }

        function saveState() {
            localStorage.setItem(STORAGE_KEY, JSON.stringify(state));
        }

        function loadState() {
            const saved = localStorage.getItem(STORAGE_KEY);
            if (saved) {
                state = { ...state, ...JSON.parse(saved) };
                
                // Repopulate inputs
                els.inputs.name.value = state.name;
                els.inputs.email.value = state.email;
                els.inputs.phone.value = state.phone;
                els.inputs.role.value = state.role;
                els.inputs.date.value = state.startDate;
                els.inputs.cycle.value = state.cycle;
                els.inputs.notes.value = state.notes;
            } else {
                els.inputs.date.value = state.startDate;
                els.inputs.cycle.value = 'Monthly'; // Force Default
            }
        }

        function resetForm() {
            if(confirm("Are you sure you want to clear all data?")) {
                localStorage.removeItem(STORAGE_KEY);
                // Don't reload, just re-init
                state = {
                    name: '',
                    email: '',
                    phone: '',
                    role: '',
                    startDate: new Date().toISOString().split('T')[0],
                    cycle: 'Monthly',
                    notes: ''
                };
                
                // Clear UI
                els.inputs.name.value = '';
                els.inputs.email.value = '';
                els.inputs.phone.value = '';
                els.inputs.role.value = '';
                els.inputs.date.value = state.startDate;
                els.inputs.cycle.value = 'Monthly';
                els.inputs.notes.value = '';
                els.inputs.logo.value = ''; // Reset file input
                
                // Reset Logo Display
                els.preview.imgLogo.classList.add('hidden');
                els.preview.textLogo.classList.remove('hidden');
                els.preview.imgLogo.src = "";

                render();
            }
        }

        function render() {
            // 1. Text Replacements (Multi-target)
            const nameTxt = state.name || '[Agent Name]';
            els.preview.names.forEach(el => {
                el.textContent = nameTxt;
                if(!state.name) el.classList.add('bg-yellow-100');
                else el.classList.remove('bg-yellow-100');
            });

            // Dates
            els.preview.dates.forEach(el => el.textContent = state.startDate || '[Start Date]');
            
            // Cycle
            els.preview.cycles.forEach(el => el.textContent = state.cycle || 'Monthly');

            // 2. Role Logic
            let roleTitle = '[Select Role]';
            if (state.role && ROLE_CONFIG[state.role]) {
                roleTitle = ROLE_CONFIG[state.role].title;
            }
            els.preview.roles.forEach(el => el.textContent = roleTitle);

            // 3. Notes
            if (state.notes.trim()) {
                els.preview.notesSection.classList.remove('hidden');
                els.preview.notes.textContent = state.notes;
            } else {
                els.preview.notesSection.classList.add('hidden');
            }

            // 4. Button State
            const isValid = state.name && state.role && state.startDate;
            els.ui.generateBtn.disabled = !isValid;
        }

        // --- 5. UTILITIES ---

        function handlePrint() {
            const originalTitle = document.title;
            const agentName = state.name ? state.name.replace(/[^a-zA-Z0-9]/g, '_') : 'Candidate';
            
            // Set title temporarily for default PDF filename
            document.title = `OWNIT_Offer_${agentName}`;
            
            window.print();
            
            // Restore title
            setTimeout(() => {
                document.title = originalTitle;
            }, 100);
        }

        function copyToClipboard() {
            const text = document.getElementById('preview-section').innerText;
            navigator.clipboard.writeText(text).then(() => {
                showToast('Offer text copied to clipboard');
            }).catch(err => {
                console.error('Failed to copy: ', err);
                showToast('Failed to copy', true);
            });
        }

        function showToast(msg, isError = false) {
            const toast = document.getElementById('toast');
            const msgEl = document.getElementById('toastMsg');
            
            msgEl.textContent = msg;
            toast.className = `fixed bottom-5 right-5 text-white px-4 py-3 rounded-lg shadow-xl transform transition-all duration-300 flex items-center gap-3 z-50 ${isError ? 'bg-red-500' : 'bg-green-500'}`;
            
            toast.classList.remove('translate-y-20', 'opacity-0');
            setTimeout(() => {
                toast.classList.add('translate-y-20', 'opacity-0');
            }, 3000);
        }

        // Initialize Authentication Check on Load
        window.addEventListener('DOMContentLoaded', checkAuth);

    </script>
</body>
</html>
